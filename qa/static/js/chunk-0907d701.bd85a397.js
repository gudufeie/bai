(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0907d701"],{"2dfe":function(t,e,a){"use strict";var s=a("4acb"),i=a.n(s);i.a},"4acb":function(t,e,a){},"7f84":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,offset:6}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{display:"flex","justify-content":"space-between"}},[a("span",{staticClass:"status_type"},[t._v("关联关键词名称 "),a("span",{staticClass:"star"},[t._v("*")])]),a("el-input",{attrs:{placeholder:"10个字以内",maxlength:"10","show-word-limit":""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,offset:6}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{display:"flex","justify-content":"space-between"}},[a("span",{staticClass:"status_type"},[t._v("更新时间:")]),a("span",{staticClass:"status_type",staticStyle:{"text-align":"left",width:"76%"}},[t._v(t._s(t.updateTime))])])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,offset:6}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{display:"flex","justify-content":"space-between"}},[a("span",{staticClass:"status_type"},[t._v("所属关键词 "),a("span",{staticClass:"star"},[t._v("*")])]),a("div",{staticStyle:{width:"76%"}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{display:"flex","justify-content":"space-between"}},[a("span",{staticClass:"status_type"},[t._v("一级类目 "),a("span",{staticClass:"star"},[t._v("*")])]),a("el-select",{attrs:{placeholder:"请选择一级类目"},on:{change:t.getCateOne},model:{value:t.firstCateId,callback:function(e){t.firstCateId=e},expression:"firstCateId"}},t._l(t.firstCateList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.categoryName,value:t.id}})})),1)],1),a("div",{staticClass:"grid-content bg-purple",staticStyle:{display:"flex","justify-content":"space-between","margin-top":"20px"}},[a("span",{staticClass:"status_type"},[t._v("二级类目 "),a("span",{staticClass:"star"},[t._v("*")])]),a("el-select",{attrs:{placeholder:"请选择二级类目"},on:{change:t.getCateTwo},model:{value:t.secondCateId,callback:function(e){t.secondCateId=e},expression:"secondCateId"}},t._l(t.secondCateList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.categoryName,value:t.id}})})),1)],1),a("div",{staticClass:"grid-content bg-purple",staticStyle:{display:"flex","justify-content":"space-between","margin-top":"20px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:"请搜索/选择关键词"},on:{change:t.getKeyWord},model:{value:t.keywordId,callback:function(e){t.keywordId=e},expression:"keywordId"}},t._l(t.keywordList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.keyWordName,value:t.id}})})),1)],1)])])])],1),a("el-row",{staticClass:"btn-wrap",attrs:{gutter:20}},[a("el-col",{attrs:{span:3,offset:9}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{display:"flex","justify-content":"space-between"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitRelationKey}},[t._v("保存")])],1)]),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{display:"flex","justify-content":"space-between"}},[a("el-button",{on:{click:t.back}},[t._v("取消")])],1)])],1)],1)},i=[],n=(a("a4d3"),a("e01a"),a("d28b"),a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("1273")),r={data:function(){return{name:"",firstCateList:[],secondCateList:[],firstCate:"",secondCate:"",firstCateId:"",secondCateId:"",updateTime:"",keyword:"",keywordList:[],statusList:[{label:"是",value:"1"},{label:"否",value:"0"}],relationKeyword:{},id:"",keywordId:""}},computed:{getRelationKey:function(){return this.$store.state.relationKeyword}},mounted:function(){var t=this;this.getRelationDetail(),Object(n["O"])({}).then((function(e){t.firstCateList=e.data;var a=!0,s=!1,i=void 0;try{for(var n,r=t.firstCateList[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var o=n.value;if(o.id==t.firstCateId){t.firstCate=o.categoryName,t.secondCateList=o.childrenList;break}}}catch(l){s=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}}))},methods:{back:function(){this.$router.go(-1)},getRelationDetail:function(){var t=this;if(this.getRelationKey.id){var e={id:this.getRelationKey.id};Object(n["db"])(e).then((function(e){var a=t;if(200==e.code){var s=e.data.keyWord;a.id=e.data.id,a.keywordId=s.id,a.name=e.data.keyWordRelationname,a.firstCateId=s.categoryOneId,a.secondCateId=s.categoryTwoId,a.keyword=s.keyWordName,a.updateTime=s.updateTime}var i={categoryOneId:t.firstCateId,categoryTwoId:t.secondCateId,keyWordName:""};Object(n["qb"])(i).then((function(e){t.keywordList=e.data}))}))}this.$local.clear("relationKeyword"),this.$store.commit("saveRelationKey","")},submitRelationKey:function(){var t=this;if(!this.name)return this.$message({message:"请输入关联关键词！!",type:"warning",center:!0}),!1;if(!this.keywordId)return this.$message({message:"请选择关键词！!",type:"warning",center:!0}),!1;if(this.id){var e={id:this.id,keyWordId:this.keywordId,keyWordRelationname:this.name};Object(n["Jb"])(e).then((function(e){200==e.code?(t.$message({message:"修改成功!",type:"success",center:!0}),t.$router.push({path:"/association"})):t.$message({message:"修改失败!",type:"warning",center:!0})}))}else{var a={id:this.id,keyWordId:this.keywordId,keyWordRelationname:this.name};Object(n["i"])(a).then((function(e){200==e.code?(t.$message({message:"添加成功!",type:"success",center:!0}),t.$router.push({path:"/association"})):t.$message({message:"添加失败!",type:"warning",center:!0})}))}},getCateOne:function(){var t=!0,e=!1,a=void 0;try{for(var s,i=this.firstCateList[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var n=s.value;if(n.id==this.firstCateId){this.firstCate=n.categoryName,this.secondCateList=n.childrenList,this.secondCateId="";break}}}catch(r){e=!0,a=r}finally{try{t||null==i.return||i.return()}finally{if(e)throw a}}},getCateTwo:function(){var t=this,e={categoryOneId:this.firstCateId,categoryTwoId:this.secondCateId,keyWordName:this.keyword};Object(n["qb"])(e).then((function(e){t.keywordList=e.data,e.data.length>0&&(t.keywordId=e.data[0].id,t.keyword=e.data[0].keyWordName)}));var a=!0,s=!1,i=void 0;try{for(var r,o=this.secondCateList[Symbol.iterator]();!(a=(r=o.next()).done);a=!0){var l=r.value;if(l.id==this.secondCateId){this.secondCate=l.categoryName;break}}}catch(c){s=!0,i=c}finally{try{a||null==o.return||o.return()}finally{if(s)throw i}}},getKeyWord:function(){var t=!0,e=!1,a=void 0;try{for(var s,i=this.keywordList[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var n=s.value;n.id==this.keywordId&&(this.keyword=n.keyWordName)}}catch(r){e=!0,a=r}finally{try{t||null==i.return||i.return()}finally{if(e)throw a}}}}},o=r,l=(a("2dfe"),a("2877")),c=Object(l["a"])(o,s,i,!1,null,"101a6d5c",null);e["default"]=c.exports},b0c0:function(t,e,a){var s=a("83ab"),i=a("9bf2").f,n=Function.prototype,r=n.toString,o=/^\s*function ([^ (]*)/,l="name";!s||l in n||i(n,l,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})}}]);