(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64b50e44"],{"12c2":function(t,e,s){},3769:function(t,e,s){"use strict";var a=s("12c2"),i=s.n(a);i.a},"4e82":function(t,e,s){"use strict";var a=s("23e7"),i=s("1c0b"),l=s("7b0b"),o=s("d039"),n=s("b301"),r=[].sort,u=[1,2,3],c=o((function(){u.sort(void 0)})),d=o((function(){u.sort(null)})),p=n("sort"),f=c||!d||p;a({target:"Array",proto:!0,forced:f},{sort:function(t){return void 0===t?r.call(l(this)):r.call(l(this),i(t))}})},"5b47":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-wrap"},[s("el-row",{attrs:{gutter:20}},["edit"==t.mode?s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark solutionID",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("解决方案ID:")]),s("span",[t._v(t._s(t.solutionDetail.id))]),s("router-link",{attrs:{to:"sloveDetail"}},[s("span",{staticClass:"viewDetail",on:{click:t.toSloveDetail}},[t._v("查看详情")])])],1)]):t._e(),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("解决方案名称"),s("span",{staticClass:"star"},[t._v("*")]),t._v(":")]),s("el-input",{ref:"name",staticClass:"status_type",attrs:{placeholder:"30个字以内",maxlength:"30","show-word-limit":""},on:{blur:t.getName},model:{value:t.solutionDetail.solutionName,callback:function(e){t.$set(t.solutionDetail,"solutionName",e)},expression:"solutionDetail.solutionName"}})],1)]),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("封面"),s("span",{staticClass:"star"},[t._v("*")]),t._v(":")]),s("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.solutionDetail.solutionPic,fit:t.fit}}),s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?s("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("导航菜单"),s("span",{staticClass:"star"},[t._v("*")]),t._v(":")]),s("el-select",{attrs:{placeholder:"请选择"},on:{change:t.getNavId},model:{value:t.solutionDetail.navigationMenu,callback:function(e){t.$set(t.solutionDetail,"navigationMenu",e)},expression:"solutionDetail.navigationMenu"}},t._l(t.navigationList,(function(t,e){return s("el-option",{key:e,attrs:{label:t.navigationName,value:t.id}})})),1)],1)]),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("是否推荐"),s("span",{staticClass:"star"},[t._v("*")]),t._v(":")]),s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.solutionDetail.recommend,callback:function(e){t.$set(t.solutionDetail,"recommend",e)},expression:"solutionDetail.recommend"}},t._l(t.recommendList,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark status",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("是否启用:")]),s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.solutionDetail.enable,callback:function(e){t.$set(t.solutionDetail,"enable",e)},expression:"solutionDetail.enable"}},t._l(t.enableList,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("排序:")]),s("el-input",{staticClass:"status_type",model:{value:t.solutionDetail.sort,callback:function(e){t.$set(t.solutionDetail,"sort",e)},expression:"solutionDetail.sort"}})],1)]),t.solutionDetail.id?s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("最近更新时间:")]),s("span",[t._v(t._s(t.updateTime))])])]):t._e(),t.solutionDetail.id?s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("概述:")]),s("span",[t._v(t._s(t.solutionDetail.description))])])]):t._e(),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{"text-align":"center"}},[s("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")]),s("el-button",{on:{click:t.back}},[t._v("取消")])],1)])],1)],1)},i=[],l=(s("a4d3"),s("e01a"),s("d28b"),s("4e82"),s("b0c0"),s("d3b7"),s("3ca3"),s("ddb0"),s("2b3d"),s("1273")),o={data:function(){return{fit:"",url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",enableList:[{label:"是",value:1},{label:"否",value:0}],recommendList:[{label:"人工推荐",value:1},{label:"系统推荐",value:2},{label:"否",value:0}],imageUrl:"",solutionDetail:{description:"",enable:"",id:"",navigationMenu:"",recommend:"",solutionName:"",solutionPic:"",sort:"",categoryTwoId:"",solutionSortId:""},mode:"add",navigationList:[],updateTime:"",navigationName:""}},computed:{solutionInfo:function(){return this.$store.state.solutionInfo}},mounted:function(){this.solutionInfo.id&&(this.mode="edit",this.solutionDetail={description:this.solutionInfo.description,enable:this.solutionInfo.enable,id:this.solutionInfo.id,navigationMenu:this.solutionInfo.navigationMenu,recommend:this.solutionInfo.recommend,solutionName:this.solutionInfo.solutionName,solutionPic:this.solutionInfo.solutionPic,sort:this.solutionInfo.sort},this.updateTime=this.solutionInfo.createTime,this.$store.commit("saveSolutionInfo","")),this.getAllNav()},methods:{getAllNav:function(){var t=this;Object(l["ab"])({}).then((function(e){t.navigationList=e.data}))},back:function(){this.$router.go(-1)},handleAvatarSuccess:function(t,e){this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,s="image/png"===t.type,a=t.size/1024<30;return e||s||this.$message.error("上传头像图片只能是 JPG 或者 PNG 格式!"),a||this.$message.error("上传头像图片大小不能超过 30k!"),e&&a},getName:function(){if(!this.solutionDetail.solutionName)return this.$message.warning("请填写解决方案名称"),this.$refs.name.blur(),!1},save:function(){var t=this;if(!this.solutionDetail.navigationMenu)return this.$message.warning("请选择导航菜单"),!1;this.solutionDetail.solutionPic=this.url,"edit"==this.mode?Object(l["Lb"])(this.solutionDetail).then((function(e){200==e.code?(t.$message.success("修改成功"),t.$router.push("/home")):t.$message.warning("修改失败")})):Object(l["k"])(this.solutionDetail).then((function(e){200==e.code?(t.$message.success("添加成功"),t.$router.push("/home")):t.$message.warning("添加失败")}))},toSloveDetail:function(){this.$store.commit("saveSolutionInfo",this.solutionDetail)},getNavId:function(){var t=!0,e=!1,s=void 0;try{for(var a,i=this.navigationList[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var l=a.value;if(l.id==this.solutionDetail.navigationMenu){this.solutionDetail.solutionSortId=this.solutionDetail.navigationMenu,this.solutionDetail.navigationMenu=l.navigationName,this.solutionDetail.categoryTwoId=l.categoryTwoId;break}}}catch(o){e=!0,s=o}finally{try{t||null==i.return||i.return()}finally{if(e)throw s}}}}},n=o,r=(s("3769"),s("2877")),u=Object(r["a"])(n,a,i,!1,null,"6f414fa8",null);e["default"]=u.exports}}]);