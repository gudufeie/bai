(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aca99e3c"],{"2e83":function(t,e,a){},"74d4":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-wrap"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple search-bar",staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.addProduct}},[t._v("新增产品")]),a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,multiple:"",limit:3,"on-exceed":t.handleExceed,"file-list":t.fileList,"auto-upload":!1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("导入产品")])],1)],1)])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple search-bar"},[a("span",[t._v("一级类目")]),a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:t.getFirstCateId},model:{value:t.categoryOneId,callback:function(e){t.categoryOneId=e},expression:"categoryOneId"}},t._l(t.firstCateList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.categoryName,value:t.id}})})),1)],1)]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple search-bar"},[a("span",[t._v("二级类目")]),a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:t.categoryTwoId,callback:function(e){t.categoryTwoId=e},expression:"categoryTwoId"}},t._l(t.secondCateList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.categoryName,value:t.id}})})),1)],1)]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple search-bar"},[a("span",[t._v("产品来源")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.productOrigin,callback:function(e){t.productOrigin=e},expression:"productOrigin"}},t._l(t.productOriginList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),a("el-col",{attrs:{span:9}},[a("div",{staticClass:"grid-content bg-purple search"},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"id/名称/标签"},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}}),a("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")])],1)])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark"},[a("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":{color:"#000"},data:t.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),a("el-table-column",{attrs:{prop:"id",label:"产品ID",width:"80"}}),a("el-table-column",{attrs:{label:"产品图片",width:"100"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.productPic,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"productName",label:"产品名称",width:"120"}}),a("el-table-column",{attrs:{prop:"productPrice",label:"产品价格",width:"80"}}),a("el-table-column",{attrs:{prop:"categoryOneName",label:"一级类目",width:"100"}}),a("el-table-column",{attrs:{prop:"categoryTwoName",label:"二级类目"}}),a("el-table-column",{attrs:{prop:"name",label:"标签"}}),a("el-table-column",{attrs:{prop:"productSource",label:"产品来源",width:"80"}}),a("el-table-column",{attrs:{prop:"businessName",label:"商家名称",width:"120"}}),a("el-table-column",{attrs:{prop:"address",label:"所在地",width:"120"}}),a("el-table-column",{attrs:{prop:"releaseTime",label:"发布时间",width:"120"}}),a("el-table-column",{attrs:{label:"发布状态",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(1==n.enabled?"启用":"下线"))])]}}])}),a("el-table-column",{attrs:{prop:"name",label:"管理",width:"210"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.handleView(n)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.handleOnOrOut(n)}}},[t._v(t._s(1==n.enabled?"下线":"启用"))]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.handleDelete(n)}}},[t._v("删除")])]}}])})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"","current-page":t.pageNum,"page-sizes":[10,25,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pageTotal,"prev-text":"上一页","next-text":"下一页"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])],1)],1)},r=[],l=(a("a4d3"),a("e01a"),a("d28b"),a("99af"),a("0d03"),a("b0c0"),a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("1273")),o={data:function(){return{pageNum:1,pageSize:10,pageTotal:1,searchName:"",value:"",tableData:[],fileList:[],firstCateList:[],secondCateList:[],categoryOneId:"",categoryTwoId:"",productOrigin:"",productOriginList:[{value:"",label:"全部"},{value:1,label:"外部"},{value:2,label:"服务商发布"},{value:3,label:"人工采编"}]}},mounted:function(){this.getAllCate(),this.getProductList()},methods:{handleSizeChange:function(){},handleCurrentChange:function(t){this.pageNum=page,this.getProductList()},search:function(){var t=this,e={categoryOneId:this.categoryOneId,categoryTwoId:this.categoryTwoId,pageNum:this.pageNum,pageSize:this.pageSize,productSource:this.productOrigin,proudctKeyWord:this.searchName};Object(l["bb"])(e).then((function(e){e.data.dataList&&(t.tableData=e.data.dataList,t.pageTotal=e.data.totalCount)}))},getAllCate:function(){var t=this;Object(l["O"])({}).then((function(e){t.firstCateList=e.data}))},getFirstCateId:function(){var t=!0,e=!1,a=void 0;try{for(var n,r=this.firstCateList[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var l=n.value;if(l.id==this.categoryOneId.toString()){this.categoryTwoId="",this.secondCateList=l.childrenList;break}}}catch(o){e=!0,a=o}finally{try{t||null==r.return||r.return()}finally{if(e)throw a}}},getProductList:function(){var t=this,e={categoryOneId:"",categoryTwoId:"",pageNum:this.pageNum,pageSize:this.pageSize,productSource:"",proudctKeyWord:""};Object(l["bb"])(e).then((function(e){e.data.dataList&&(t.tableData=e.data.dataList,t.pageTotal=e.data.totalCount)}))},handleView:function(t){this.$store.commit("saveProductInfo",t),this.$router.push({path:"/productDetail"})},handleOnOrOut:function(t){var e=this,a=Math.abs(t.enabled-1),n={id:t.id,enabled:a};Object(l["ob"])(n).then((function(t){200==t.code?e.getProductList():e.$message.warning(t.msg)}))},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该产品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["mb"])({id:t.id}).then((function(t){200==t.code?(e.$message({type:"success",message:"删除成功!"}),e.getProductList()):e.$message.warning(t.msg)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},addProduct:function(){this.$router.push({name:"productDetail"})},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 ".concat(t.length," 个文件，共选择了 ").concat(t.length+e.length," 个文件"))},beforeRemove:function(t,e){return this.$confirm("确定移除 ".concat(t.name,"？"))}}},i=o,c=(a("c900"),a("2877")),s=Object(c["a"])(i,n,r,!1,null,"caad5b08",null);e["default"]=s.exports},8418:function(t,e,a){"use strict";var n=a("c04e"),r=a("9bf2"),l=a("5c6c");t.exports=function(t,e,a){var o=n(e);o in t?r.f(t,o,l(0,a)):t[o]=a}},"99af":function(t,e,a){"use strict";var n=a("23e7"),r=a("d039"),l=a("e8b5"),o=a("861d"),i=a("7b0b"),c=a("50c4"),s=a("8418"),u=a("65f0"),d=a("1dde"),p=a("b622"),h=a("60ae"),g=p("isConcatSpreadable"),b=9007199254740991,f="Maximum allowed index exceeded",m=h>=51||!r((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),v=d("concat"),y=function(t){if(!o(t))return!1;var e=t[g];return void 0!==e?!!e:l(t)},w=!m||!v;n({target:"Array",proto:!0,forced:w},{concat:function(t){var e,a,n,r,l,o=i(this),d=u(o,0),p=0;for(e=-1,n=arguments.length;e<n;e++)if(l=-1===e?o:arguments[e],y(l)){if(r=c(l.length),p+r>b)throw TypeError(f);for(a=0;a<r;a++,p++)a in l&&s(d,p,l[a])}else{if(p>=b)throw TypeError(f);s(d,p++,l)}return d.length=p,d}})},b0c0:function(t,e,a){var n=a("83ab"),r=a("9bf2").f,l=Function.prototype,o=l.toString,i=/^\s*function ([^ (]*)/,c="name";!n||c in l||r(l,c,{configurable:!0,get:function(){try{return o.call(this).match(i)[1]}catch(t){return""}}})},c900:function(t,e,a){"use strict";var n=a("2e83"),r=a.n(n);r.a}}]);