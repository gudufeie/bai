(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-389d1668"],{"20c7":function(t,e,s){},"90d8":function(t,e,s){"use strict";var a=s("20c7"),l=s.n(a);l.a},b3d7:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-wrap"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{directives:[{name:"show",rawName:"v-show",value:"edit"==t.mode,expression:"mode == 'edit'"}],attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("解决方案ID:")]),s("span",{staticClass:"status_type"},[t._v(t._s(t.solutionDetail.id))])])]),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("方案首图:"),s("span",{staticClass:"star"},[t._v("*")]),t._v(":")]),s("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.solutionDetail.solutionCover,fit:t.fit}}),s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?s("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("方案名称:"),s("span",{staticClass:"star"},[t._v("*")]),t._v(":")]),s("el-input",{staticClass:"status_type",attrs:{placeholder:"30个字以内",maxlength:"30","show-word-limit":""},model:{value:t.solutionDetail.solutionName,callback:function(e){t.$set(t.solutionDetail,"solutionName",e)},expression:"solutionDetail.solutionName"}})],1)]),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("方案报价:"),s("span",{staticClass:"star"},[t._v("*")]),t._v(":")]),s("el-input",{staticClass:"status_type",attrs:{placeholder:"请输入内容"},model:{value:t.solutionDetail.solutionPrice,callback:function(e){t.$set(t.solutionDetail,"solutionPrice",e)},expression:"solutionDetail.solutionPrice"}})],1)]),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("二级类目"),s("span",{staticClass:"star"},[t._v("*")]),t._v(":")]),s("el-select",{attrs:{placeholder:"请选择二级类目"},on:{change:t.getSecondCate},model:{value:t.solutionDetail.categoryTwoId,callback:function(e){t.$set(t.solutionDetail,"categoryTwoId",e)},expression:"solutionDetail.categoryTwoId"}},t._l(t.secondCateList,(function(t,e){return s("el-option",{key:e,attrs:{label:t.categoryName,value:t.id}})})),1)],1)]),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("标签:")]),s("span",{staticClass:"status_type"},[s("tags-add",{attrs:{tags:t.solutionDetail.keyWordName,tagsId:t.solutionDetail.keyWordId},on:{getNewTags:t.getNewTags}})],1)])]),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("产品来源:")]),s("span",[t._v(t._s(1==t.solutionInfo.solutionSource?"服务商发布":"人工采编"))])])]),1==t.solutionInfo.solutionSource?s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("发布人:")]),s("el-input",{staticClass:"status_type",attrs:{placeholder:"请输入内容"},model:{value:t.solutionDetail.releaseName,callback:function(e){t.$set(t.solutionDetail,"releaseName",e)},expression:"solutionDetail.releaseName"}})],1)]):t._e(),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("商家ID:")]),s("el-input",{staticClass:"status_type",attrs:{placeholder:"请输入内容"},model:{value:t.solutionDetail.businessId,callback:function(e){t.$set(t.solutionDetail,"businessId",e)},expression:"solutionDetail.businessId"}})],1)]),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("商家名称"),s("span",{staticClass:"star"},[t._v("*")]),t._v(":")]),s("business-search",{staticStyle:{width:"80%"},attrs:{businessName:t.solutionDetail.businessName},on:{getName:t.getShopName,getBusiness:t.businessSelect}})],1)]),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("真实浏览数:")]),s("span",{staticStyle:{width:"80%","line-height":"40px"}},[s("span",{staticStyle:{width:"35%",display:"inline-block"}},[t._v(t._s(t.solutionDetail.realCount))]),s("span",[t._v("前台浏览数:")]),s("el-input",{staticStyle:{width:"40%",float:"right"},attrs:{placeholder:"请输入"},model:{value:t.solutionDetail.setCount,callback:function(e){t.$set(t.solutionDetail,"setCount",e)},expression:"solutionDetail.setCount"}})],1)])]),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("发布时间:")]),s("span",{staticClass:"status_type"},[t._v(t._s(t.solutionDetail.releaseTime))])])]),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark status",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("是否启用:")]),s("el-select",{attrs:{placeholder:"请选择二级类目"},model:{value:t.solutionDetail.enabled,callback:function(e){t.$set(t.solutionDetail,"enabled",e)},expression:"solutionDetail.enabled"}},t._l(t.statusList,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark hrefType",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("跳转类型:")]),s("span",{staticClass:"status_type"},[s("el-select",{staticStyle:{width:"30%"},attrs:{placeholder:"请选择二级类目"},on:{change:t.linkChange},model:{value:t.solutionDetail.forwardType,callback:function(e){t.$set(t.solutionDetail,"forwardType",e)},expression:"solutionDetail.forwardType"}},t._l(t.hrefTypeList,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),s("el-input",{directives:[{name:"show",rawName:"v-show",value:2==t.solutionDetail.forwardType,expression:"solutionDetail.forwardType == 2"}],attrs:{placeholder:"请填写html地址"},model:{value:t.solutionDetail.forwardUrl,callback:function(e){t.$set(t.solutionDetail,"forwardUrl",e)},expression:"solutionDetail.forwardUrl"}})],1)])]),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type title"},[t._v("方案描述:")]),s("el-input",{staticClass:"status_type",attrs:{type:"textarea",rows:6,placeholder:"100个字以内",maxlength:"100","show-word-limit":""},model:{value:t.solutionDetail.solutionSummary,callback:function(e){t.$set(t.solutionDetail,"solutionSummary",e)},expression:"solutionDetail.solutionSummary"}})],1)]),s("el-col",{attrs:{span:18,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{display:"flex","justify-content":"flex-start"}},[s("span",{staticClass:"status_type detail"},[t._v("产品详情:")]),s("span",{staticClass:"status_type"},[s("vue-editor",{on:{blur:t.getDetail},model:{value:t.solutionDetail.solutionDescription,callback:function(e){t.$set(t.solutionDetail,"solutionDescription",e)},expression:"solutionDetail.solutionDescription"}})],1)])]),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"grid-content bg-purple-dark",staticStyle:{"text-align":"center"}},[s("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")]),s("el-button",{attrs:{type:"primary"},on:{click:t.publish}},[t._v("确认发布")]),s("el-button",{on:{click:t.back}},[t._v("取消")]),"edit"==t.mode?s("el-button",{on:{click:t.deleteSolution}},[t._v("删除")]):t._e()],1)])],1)],1)},l=[],i=(s("a4d3"),s("e01a"),s("d28b"),s("c975"),s("a434"),s("d3b7"),s("3ca3"),s("ddb0"),s("2b3d"),s("2fa7")),o=s("8bc4"),n=s("7457"),r=s("3d97"),u=s("9af9"),c=s("1273"),d={data:function(){var t;return t={solutionDetail:{businessId:"",businessName:"",categoryTwoId:"",categoryTwoName:"",enabled:1,forwardType:0,forwardUrl:"",id:"",keyWordId:"",keyWordName:"",publish:0,realCount:0,releaseAddress:"",releaseId:"",releaseName:"",releaseTime:"",setCount:0,solutionCover:"",solutionDescription:2,solutionName:"",solutionPrice:"",solutionSource:1,solutionSummary:""},content:"",fit:"",input:"",url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",name:"",status:1,relateKeywordList:[],inputVisible:!1,inputValue:"",secondCateList:[],secondCate:"",updateTime:"",statusList:[{label:"是",value:1},{label:"否",value:0}],relationName:"",keyWordRelationname:[]},Object(i["a"])(t,"relateKeywordList",[]),Object(i["a"])(t,"keyworkId",""),Object(i["a"])(t,"firstCateId",""),Object(i["a"])(t,"key",{}),Object(i["a"])(t,"hrefType",1),Object(i["a"])(t,"hrefTypeList",[{label:"固定链接",value:1},{label:"默认(有联系方式跳转详情,无联系方式跳转站外)",value:2}]),Object(i["a"])(t,"dialogVisible",!1),Object(i["a"])(t,"options",o["regionData"]),Object(i["a"])(t,"selectedOptions",[]),Object(i["a"])(t,"originList",[{label:"服务商发布",value:1},{label:"人工采编",value:2}]),Object(i["a"])(t,"imageUrl",""),Object(i["a"])(t,"defaultLink",!1),Object(i["a"])(t,"tagDialogVisible",!1),Object(i["a"])(t,"mode","add"),t},components:{VueEditor:n["a"],BusinessSearch:r["a"],TagsAdd:u["a"]},computed:{solutionInfo:function(){return this.$store.state.solutionInfo}},mounted:function(){var t=this;this.solutionInfo.id&&(this.mode="edit",Object(c["cb"])({id:this.solutionInfo.id}).then((function(e){t.solutionDetail=e.data})),this.$store.commit("saveSolutionInfo","")),this.getAllCate()},methods:{getAllCate:function(){var t=this;Object(c["M"])({}).then((function(e){var s=e.data,a=!0,l=!1,i=void 0;try{for(var o,n=s[Symbol.iterator]();!(a=(o=n.next()).done);a=!0){var r=o.value;if("行业解决方案"==r.categoryName){t.secondCateList=r.childrenList;break}}}catch(u){l=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}}))},getSecondCate:function(){var t=!0,e=!1,s=void 0;try{for(var a,l=this.secondCateList[Symbol.iterator]();!(t=(a=l.next()).done);t=!0){var i=a.value;if(i.id==this.solutionDetail.categoryTwoId){this.solutionDetail.categoryTwoName=i.categoryName;break}}}catch(o){e=!0,s=o}finally{try{t||null==l.return||l.return()}finally{if(e)throw s}}console.log("dafdsafsdfasdf",this.solutionDetail.categoryTwoName)},handleClose:function(t){this.relateKeywordList.splice(this.relateKeywordList.indexOf(t),1)},showInput:function(){this.inputVisible=!0},handleInputConfirm:function(){var t=this.inputValue;t&&this.relateKeywordList.push(t),this.inputVisible=!1,this.inputValue=""},handleChange:function(t){console.log(t)},getDetail:function(){console.log("ooooo",this.content)},back:function(){this.$router.go(-1)},handleAvatarSuccess:function(t,e){this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,s=t.size/1024/1024<2;return s||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&s},linkChange:function(){console.log("00000000"),this.defaultLink=this.hrefType},getNewTags:function(t,e){this.solutionDetail.keyWordId=e,this.solutionDetail.keyWordName=t,this.solutionDetail.keyWordName.length>0&&(this.solutionDetail.keyWordName=this.solutionDetail.keyWordName.substring(0,this.solutionDetail.keyWordName.length-1),this.solutionDetail.keyWordId=e.substring(0,e.length-1))},getShopName:function(t){this.solutionDetail.businessName=t},businessSelect:function(t){this.solutionDetail.businessName=t.value,this.solutionDetail.businessId=t.id},save:function(){var t=this;this.solutionDetail.solutionCover=this.url,this.solutionDetail.solutionSource=2,"edit"==this.mode?Object(c["ub"])(this.solutionDetail).then((function(e){200==e.code?(t.$message.success("修改成功"),t.$router.push("/solve")):t.$message.warning(e.msg)})):Object(c["qb"])(this.solutionDetail).then((function(e){200==e.code?(t.$message.success("添加成功"),t.$router.push("/solve")):t.$message.warning(e.msg)}))},publish:function(){this.solutionDetail.publish=1,this.save()},deleteSolution:function(){var t=this;this.$confirm("此操作将永久删除该解决方案, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["sb"])({id:t.solutionDetail.id}).then((function(e){200==e.code&&(t.$message.success("删除成功"),t.$router.push("/solve"))}))})).catch((function(){t.$message.info("已取消删除")}))}}},p=d,f=(s("90d8"),s("2877")),y=Object(f["a"])(p,a,l,!1,null,"4ad48704",null);e["default"]=y.exports}}]);